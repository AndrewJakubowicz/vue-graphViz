webpackJsonp([1],{226:function(e,t,i){function o(e){i(319),i(320)}var n=i(51)(i(230),i(514),o,"data-v-b4e32496",null);e.exports=n.exports},230:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(242),n=i.n(o),a=i(508),s=i.n(a),r=i(506),c=i.n(r);t.default={props:["snippets","w","graphChunk","chunk"],data:function(){return{chunkId:null,width:300,height:500,id:3,h:0,nodes:[],textNodes:[],savedDiagram:"",saveDisplay:!1,svgData:void 0,graphData:void 0}},watch:{w:function(){this.$log.info("graph - width changed",this.w),this.width=this.w}},created:function(){this.$log.info("graph - created",this.w,this),this.chunkId=this.chunk?this.chunk.id:void 0,this.parse()},mounted:function(){this.height=document.getElementById("xb-arg-map").clientHeight,this.width=document.getElementById("xb-arg-map").clientWidth,this.$log.info("graph - height changed",this.height)},methods:{parse:function(){var e=null,t=[],i=this.graphChunk&&this.graphChunk.content;if(i&&this.graphChunk.deleted)i=null;else if(i&&!i.deleted&&i.length>0)try{i=JSON.parse(i),e=i.saved,t=i.textNodes}catch(e){}this.savedDiagram=e||'{"triplets":[{"subject":"0","predicate":"arrow","object":"1"}],"nodes":[{"hash":"0","x":223.3129297153952,"y":46.94835315445652},{"hash":"1","x":414.12654824652196,"y":106.86632193726514},{"hash":"2","x":393.53570556640625,"y":182.36602783203125}]}',this.nodes=this.snippets,t&&0!==t.length?this.textNodes=t:this.textNodes=this.nodes},save:function(e,t,i){var o=n()({saved:e,svg:t.outerHTML,textNodes:i}),a={graphChunk:this.graphChunk,chunk:this.chunk,id:this.chunkId,graph:o};this.$log.info("graph - saved",a,JSON.parse(e)),this.$emit("save",a),this.saveDisplay=!0,this.svgData=t,this.graphData=n()({saved:JSON.parse(e),textNodes:i})},closeSave:function(){this.saveDisplay=!1,this.svgData=void 0,this.graphData=void 0}},components:{graphViz:s.a,saveModal:c.a}}},231:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(52),n=i.n(o);t.default={name:"hoverMenuEdge",props:{pad:{type:Number,default:function(){return 0}},display:{type:Boolean,default:function(){return!1}},position:{type:Object,default:function(){return{x:0,y:0,width:0,height:0}}},color:{type:String,default:function(){return"#575959"}},data:{},type:{type:String,default:function(){return"note"}}},data:function(){return{arrowsTimerId:!1,weightsTimerId:!1,dashesTimerId:!1,arrowsToggle:!1,weightsToggle:!1,dashesToggle:!1}},computed:{posPad:function(){var e=n()({},this.position);return e.width+=this.pad,e.height+=this.pad,e.x-=this.pad/2,e.y-=this.pad/2,e},mouseLimit:function(){if(this.dashesToggle||this.weightsToggle||this.arrowsToggle){return{x:this.position.x-115*.58,y:this.position.y-46.4,X:this.position.x+this.position.width+57.5,Y:this.position.y+this.position.height+40}}return{x:this.position.x-57.5,y:this.position.y-40,X:this.position.x+this.position.width+57.5,Y:this.position.y+this.position.height+40}}},beforeDestroy:function(){document.removeEventListener("mousemove",this.mouseOutCheck),this.weightsTimerCancel(),this.dashesTimerCancel(),this.arrowsTimerCancel()},watch:{display:function(e){e?document.addEventListener("mousemove",this.mouseOutCheck):(this.arrowsTimerId=!1,this.weightsTimerId=!1,this.dashesTimerId=!1,document.removeEventListener("mousemove",this.mouseOutCheck))}},methods:{mouseOutCheck:function(e){(e.clientX<this.mouseLimit.x||e.clientX>this.mouseLimit.X||e.clientY<this.mouseLimit.y||e.clientY>this.mouseLimit.Y)&&this.exit(e)},exit:function(e){this.arrowsToggle=!1,this.arrowsTimerId=!1,this.weightsToggle=!1,this.weightsTimerId=!1,this.dashesToggle=!1,this.dashesTimerId=!1,this.$emit("exitHover",e)},interact:function(e,t,i){this.$emit("clickedButton",{type:e,data:this.data,e:t,payload:i}),"WEIGHT"!==e&&"DASH"!==e&&"DELETE"!==e&&"ARROW"!==e||this.exit(t)},arrowsTimerStart:function(){var e=this;this.arrowsTimerId||this.arrowsToggle||(this.arrowsTimerId=window.setTimeout(function(){e.arrowsToggle=!0,e.arrowsTimerId=!1,e.weightsToggle=!1,e.dashesToggle=!1},100))},arrowsTimerCancel:function(){this.arrowsTimerId&&(clearTimeout(this.arrowsTimerId),this.arrowsTimerId=!1)},weightsTimerStart:function(){var e=this;this.weightsTimerId||this.weightsToggle||(this.weightsTimerId=window.setTimeout(function(){e.weightsToggle=!0,e.weightsTimerId=!1,e.arrowsToggle=!1,e.dashesToggle=!1},100))},weightsTimerCancel:function(){this.weightsTimerId&&(clearTimeout(this.weightsTimerId),this.weightsTimerId=!1)},dashesTimerStart:function(){var e=this;this.dashesTimerId||this.dashesToggle||(this.dashesTimerId=window.setTimeout(function(){e.dashesToggle=!0,e.dashesTimerId=!1,e.arrowsToggle=!1,e.weightsToggle=!1},100))},dashesTimerCancel:function(){this.dashesTimerId&&(clearTimeout(this.dashesTimerId),this.dashesTimerId=!1)}}}},232:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(52),n=i.n(o);t.default={name:"hoverMenuNode",props:{pad:{type:Number,default:function(){return 0}},display:{type:Boolean,default:function(){return!1}},position:{type:Object,default:function(){return{x:0,y:0,width:0,height:0}}},color:{type:String,default:function(){return"#575959"}},fixed:{type:Boolean,default:function(){return!1}},data:{},shape:{},type:{type:String,default:function(){return"note"}}},data:function(){return{shapesToggle:!1,timerId:!1}},computed:{posPad:function(){var e=n()({},this.position);return e.width+=this.pad,e.height+=this.pad,e.x-=this.pad/2,e.y-=this.pad/2,e},pinned:function(){return this.fixed?"pinned":"unpinned"},mouseLimit:function(){if(this.shapesToggle){return{x:this.position.x-115*.58,y:this.position.y-46.4,X:this.position.x+this.position.width+57.5,Y:this.position.y+this.position.height+40}}return{x:this.position.x-42.5,y:this.position.y-40,X:this.position.x+this.position.width+42.5,Y:this.position.y+this.position.height+40}}},beforeDestroy:function(){document.removeEventListener("mousemove",this.mouseOutCheck),this.timerCancel()},watch:{display:function(e){e?document.addEventListener("mousemove",this.mouseOutCheck):(this.shapesToggle=!1,this.timerId=!1,document.removeEventListener("mousemove",this.mouseOutCheck))}},methods:{mouseOutCheck:function(e){(e.clientX<this.mouseLimit.x||e.clientX>this.mouseLimit.X||e.clientY<this.mouseLimit.y||e.clientY>this.mouseLimit.Y)&&this.exit(e)},exit:function(e){this.shapesToggle=!1,this.timerId=!1,this.$emit("exitHover",e)},interact:function(e,t,i){this.$emit("clickedButton",{type:e,data:this.data,e:t,payload:i}),"DELETE"!==e&&"SHAPE"!==e||this.exit(t)},timerStart:function(){var e=this;this.timerId||this.shapesToggle||(this.timerId=window.setTimeout(function(){e.shapesToggle=!0,e.timerId=!1},100))},timerCancel:function(){this.timerId&&(clearTimeout(this.timerId),this.timerId=!1)}}}},233:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(326),n=i.n(o);t.default={name:"saveModal",props:{display:{type:Boolean,default:function(){return!1}},svgData:{},graphData:{}},data:function(){return{filename:"graphviz"}},watch:{display:function(e){var t=this;if(e){var i=(new XMLSerializer).serializeToString(this.svgData),o=document.createElement("canvas"),a=o.getContext("2d"),s=this.svgData.viewBox.baseVal;o.width=s.width,o.height=s.height;var r="data:image/svg+xml;base64,"+btoa(i),c=new Image;c.onload=function(){a.drawImage(c,0,0),t.$refs.png.src=o.toDataURL("image/png"),t.$refs.savePNG.disabled=!1,t.$refs.savePNG.onclick=function(){o.toBlob(function(e){n()(e,t.filename+".png"),t.exit()})}},c.src=r}}},methods:{saveSVG:function(){var e=this.svgData.cloneNode(!0),t=document.createElementNS("http://www.w3.org/2000/svg","desc");t.setAttribute("id","graphJSONData"),t.innerHTML=this.graphData,e.appendChild(t);var i=(new XMLSerializer).serializeToString(e),o=new Blob([i],{type:"image/svg+xml;charset=utf-8"});n()(o,this.filename+".svg"),this.exit()},exit:function(){this.$refs.savePNG.disabled=!0,this.$refs.savePNG.onclick=void 0,this.$emit("close")}}}},234:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(52),n=i.n(o),a=i(325),s=i.n(a);t.default={props:["mouse","shape"],name:"toolBar",data:function(){return{tools:[{action:"POINTER",icon:["mouse-pointer"],toggled:!0,tip:"Pointer (P)"},{action:"SELECT",toggled:!1,tip:"Select Tool (S)",custom:!0,html:'<svg width="16px" height="18px" class="icon-alone"><use style="transform:scale(0.03571);" xlink:href=.'+s.a+"#expand></use></svg>"},{action:"ADDNOTE",icon:["plus-square"],toggled:!1,tip:"Add Node",custom:!0,html:'<svg id="addNodeButton" width="16px" height="18px" class="icon-alone"><use id="addNodeIcon" style="transform:scale(0.03571);" xlink:href=.'+s.a+"#plus-square-regular></use></svg>"},{action:"IMPORTPROB",icon:["fas fa-percent"],toggled:!1,tip:"Import Probability Diagram"},{action:"UNDO",icon:["undo"],toggled:!1,tip:"Undo (Ctrl+Z)"},{action:"REDO",icon:["repeat"],toggled:!1,tip:"Redo (Ctrl+Y)"},{action:"OPEN",icon:["folder-open-o"],toggled:!1,tip:"Open (Ctrl+O)"},{action:"SAVE",icon:["floppy-o"],toggled:!1,tip:"Save (Ctrl+S)"}],selectTools:[{action:"PIN",icon:["thumb-tack"],toggled:!1,tip:"Pin"},{action:"COPY",icon:["copy"],toggled:!1,tip:"Duplicate (Ctrl+C)"},{action:"DELETE",icon:["trash"],toggled:!1,tip:"Delete (Del)"},{action:"BOLD",icon:["bold"],toggled:!1,tip:"Bold  (Ctrl+B)"},{action:"ITALIC",icon:["italic"],toggled:!1,tip:"Italics  (Ctrl+I)"},{action:"UNDERLINE",icon:["underline"],toggled:!1,tip:"Underline (Ctrl+U)"},{action:"GROUP",icon:["fas fa-object-group"],toggled:!1,tip:"Group"}],shapes:[{shape:"circle",icon:"."+s.a+"#circle-solid",tip:"Circle"},{shape:"rect",icon:"."+s.a+"#rect-solid",tip:"Rectangle"},{shape:"capsule",icon:"."+s.a+"#capsule-solid",tip:"Rounded Rectangle"}],showShapeMenu:!1,shapeToolVisibility:"hidden",addNodeButton:void 0,bb:void 0,bt:void 0}},methods:{mouseEnter:function(){this.$emit("mouseEnter")},clicked:function(e){this.showShapeMenu=!1,this.$emit("clickedAction",e);var t=e;"SAVE"!==e&&"ADDNOTE"!==e&&"DELETE"!==e&&"IMPORTPROB"!==e&&"UNDO"!==e&&"COPY"!==e&&"OPEN"!==e&&"REDO"!==e||(t="POINTER"),"PIN"!==e&&"COLOR"!==e&&"BOLD"!==e&&"ITALIC"!==e&&"GROUP"!==e&&"UNDERLINE"!==e||(t="SELECT"),this.tools=this.tools.map(function(e){return n()({},e,{toggled:e.action===t})})},changeShapeIcon:function(e){var t=void 0;switch(e){case"circle":t="plus-circle-solid";break;case"rect":t="plus-rect-solid";break;case"capsule":t="plus-capsule-solid";break;default:t="plus-square-regular"}document.getElementById("addNodeIcon").setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","."+s.a+"#"+t)},mouseOutShapeCheck:function(e){(e.clientX<this.bb.x-1.5*this.bb.width-this.bt.width||e.clientX>this.bb.x+1.5*this.bb.width||e.clientY<this.bb.y-.5*this.bt.height||e.clientY>this.bb.y+this.bt.height)&&(this.showShapeMenu=!1)},changeDefaultShape:function(e){this.$emit("changeDefaultShape",e),this.showShapeMenu=!1},mouseOverShapeIcon:function(e){this.showShapeMenu||(this.showShapeMenu=!0)}},watch:{mouse:function(e,t){this.tools=this.tools.map(function(t){return n()({},t,{toggled:t.action===e})})},shape:"changeShapeIcon",showShapeMenu:function(e){e?(this.shapeToolVisibility="visible",this.bb=this.addNodeButton.getBoundingClientRect(),this.bt=this.shapeTool.getBoundingClientRect(),document.addEventListener("mousemove",this.mouseOutShapeCheck)):(document.removeEventListener("mousemove",this.mouseOutShapeCheck),this.shapeToolVisibility="hidden")}},mounted:function(){this.changeShapeIcon(this.shape),this.addNodeButton=document.getElementById("addNodeButton"),this.shapeTool=document.getElementById("graph-shape-tool"),this.addNodeButton.addEventListener("mouseenter",this.mouseOverShapeIcon)},beforeDestroy:function(){this.addNodeButton.removeEventListener("mouseenter",this.mouseOverShapeIcon),document.removeEventListener("mousemove",this.mouseOutShapeCheck)}}},235:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(246),n=i.n(o),a=i(251),s=i.n(a),r=i(244),c=i.n(r),d=i(245),u=i.n(d),h=i(52),l=i.n(h),p=i(252),g=i.n(p),v=i(136),f=i.n(v),m=i(138),y=i.n(m),x=i(139),b=i.n(x),w=i(137),E=i.n(w),C=i(253),S=i.n(C),k=i(248),N=i.n(k),T=i(247),O=i.n(T),D=i(217),I=i.n(D),P=i(503),_=(i.n(P),i(370)),M=i.n(_),A=i(109),R=i(127),L=i(507),G=i.n(L),H=i(505),B=i.n(H),j=i(504),F=i.n(j),V=i(236),z=i(238),U=i(237),W="CREATE",Y="DELETE",X="GROUP",K="NODEEDIT",Z="PIN",q="POINTER",J="SELECT",Q="TEXT",ee=["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#F6ECAF","#DBDF00","#A4DD00","#AADCDC","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#CCCCCC","#D33115","#E27300","#FCDC00","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FCC400","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"];t.default={props:{hypothesisId:String,nodes:{type:Array,default:function(){return[]}},highlightedNodeId:null,savedDiagram:null,width:Number,height:Number,textNodes:{type:Array,default:function(){return[]}},imgDropGraph:null,getDlist:Function},name:"graph-viz",components:{toolBar:G.a,"color-picker":P.Compact,hoverMenuNode:B.a,hoverMenuEdge:F.a},data:function(){return{ifColorPickerOpen:!1,coloredNodeId:void 0,updateValue:null,styleObject:{top:"230px",left:"230px",position:"absolute"},hoverDisplay:!1,hoverPos:void 0,hoverColor:void 0,hoverFixed:void 0,hoverData:void 0,hoverShape:void 0,hoverType:void 0,hoverAwait:!1,hoverQueue$:void 0,hoverEdgeDisplay:!1,hoverEdgePos:void 0,hoverEdgeColor:void 0,hoverEdgeData:void 0,hoverEdgeType:void 0,colors:{hex:"#FFFFFF"},palette:ee,graph:void 0,nodesOutsideDiagram:[],mouseState:q,linkTool:void 0,linkToolDispose:void 0,notes:0,noteObjs:[],dbClickCreateNode:!0,canKeyboardUndo:!0,groupDrag:!1,destroy$:new A.a,rootObservable:void 0,mouseDown$:void 0,mouseOverNode$:void 0,scale:1,activeSelect:new U.a,mouseStateObs$:void 0,defaultShape:"capsule"}},mounted:function(){var e=this;this.rootObservable=(new A.a).pipe(i.i(R.a)(this.destroy$)),this.mouseDown$=(new A.a).pipe(i.i(R.a)(this.destroy$)),this.mouseOverNode$=(new A.a).pipe(i.i(R.a)(this.destroy$)),this.mouseStateObs$=(new A.a).pipe(i.i(R.a)(this.destroy$)),this.hoverQueue$=(new A.a).pipe(i.i(R.a)(this.destroy$),i.i(R.b)(100)),this.hoverQueue$.subscribe(function(e){e&&"function"==typeof e&&e()}),this.createGraph().then(function(){if(e.savedDiagram){var t=JSON.parse(e.savedDiagram);e.loadFromSaved(t)}}),this.actions(this.rootObservable);var t=this.graph.getSVGElement().node();i.i(A.b)(t,"focus").pipe(i.i(R.a)(this.destroy$)).subscribe(function(){}),i.i(A.b)(document,"paste").pipe(i.i(R.a)(this.destroy$),i.i(R.c)(function(){return e.clickedGraphViz}),i.i(R.c)(function(){return!e.ifColorPickerOpen}),i.i(R.c)(function(){return e.mouseState===q||e.mouseState===J}),i.i(R.c)(function(){return document.activeElement===t})).subscribe(function(t){e.changeMouseState(q),e.rootObservable.next({type:W,newNode:{text:t.clipboardData.getData("text/plain")}})});var o=i.i(A.b)(t,"keydown").pipe(i.i(R.a)(this.destroy$)),n=o.pipe(i.i(R.c)(function(e){return e.ctrlKey||e.metaKey}));n.pipe(i.i(R.c)(function(e){return 90===e.keyCode&&!e.shiftKey&&!e.altKey}),i.i(R.c)(function(){return e.canKeyboardUndo})).subscribe(function(t){t.preventDefault(),e.rootObservable.next({type:"UNDO"})}),n.pipe(i.i(R.c)(function(e){return 89===e.keyCode&&!e.shiftKey&&!e.altKey||90===e.keyCode&&e.shiftKey&&!e.altKey}),i.i(R.c)(function(){return e.canKeyboardUndo})).subscribe(function(t){t.preventDefault(),e.rootObservable.next({type:"REDO"})}),n.pipe(i.i(R.c)(function(e){return 83===e.keyCode}),i.i(R.c)(function(){return e.mouseState===q||e.mouseState===J})).subscribe(function(t){t.preventDefault(),e.changeMouseState("SAVE")}),n.pipe(i.i(R.c)(function(e){return 79===e.keyCode}),i.i(R.c)(function(){return e.mouseState===q||e.mouseState===J})).subscribe(function(t){t.preventDefault(),e.changeMouseState("OPEN")}),n.pipe(i.i(R.c)(function(e){return 65===e.keyCode}),i.i(R.c)(function(){return e.mouseState===q||e.mouseState===J}),i.i(R.d)(function(e){return e.preventDefault()})).subscribe(function(){var t=e.graph.selectByCoords({x:-1/0,X:1/0,y:-1/0,Y:1/0});e.mouseState!==J&&e.changeMouseState(J),e.activeSelect.select(t.nodes),e.activeSelect.select(t.edges),e.graph.restart.styles()}),o.pipe(i.i(R.c)(function(t){return!(80!==t.keyCode||e.mouseState!==J||t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)})).subscribe(function(t){t.preventDefault(),e.changeMouseState(q)}),o.pipe(i.i(R.c)(function(t){return!(83!==t.keyCode||e.mouseState!==q||t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)})).subscribe(function(t){t.preventDefault(),e.changeMouseState(J)})},beforeDestroy:function(){this.destroy$.next(!0),this.destroy$.unsubscribe()},watch:{imgDropGraph:function(e,t){var i=this,o=document.querySelector('[src = "'+e.imgSrc+'"]');if(o){var n=function(e){if(e){var t=void 0,i=void 0,o=void 0;t=document.createElement("canvas"),i=t.getContext("2d");var n=(t.width,t.height,e.width),a=e.height,s=Math.min(150/n,100/a),r=n*s,c=a*s;return t.width=r,t.height=c,i.drawImage(e,0,0,r,c),o=t.toDataURL("image/png"),o.replace(/^data:image\/png;base64,/,"")}}(o),a=o.getAttribute("src").split("/"),s=(a[a.length-1],{src:n,width:60,height:70,class:"img-node"});if(e.dropped&&e.dropped!==t.dropped)if(e.existingNode){var r=null,c=i.textNodes.map(function(e){return e.id}).indexOf(e.existingNode.id);if(-1===c)return;r=this.toNode(this.textNodes[c]),r.img={src:n,width:60,height:70,class:"img-node"},this.rootObservable.next({type:K,prop:"IMAGE",value:r.img,id:e.existingNode.id})}else this.rootObservable.next({type:W,newNode:{text:"New",img:s}})}},width:function(e,t){e!==t&&this.graph.canvasOptions.setWidth(e)},height:function(e,t){e!==t&&this.graph.canvasOptions.setHeight(e)},textNodes:function(e,t){var i=this,o=new O.a(e.map(function(e){return e.id}));t.forEach(function(e){o.has(e.id)||i.graph.removeNode(""+e.id)}),this.recalculateNodesOutside()},savedDiagram:function(e,t){var i=this;if(e!==t){this.clearScreen();var o=JSON.parse(e);o.nodes.forEach(function(e){i.addNodeHelper(e.hash,e.x,e.y)});o.triplets.forEach(function(e){var t=i.textNodes.map(function(e){return e&&e.id}).indexOf(e.subject),o=i.textNodes.map(function(e){return e&&e.id}).indexOf(e.object);-1!==t&&-1!==o&&i.graph.addTriplet({subject:i.toNode(i.textNodes[t]),object:i.toNode(i.textNodes[o]),predicate:e.predicate})})}}},methods:{showLoadingMask:function(e){var t=this;return N()(S.a.mark(function i(){var o,n;return S.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return o=t.$el,n={target:o,text:e},o.style.opacity="0.2",t.responseLoadingMask=t.$loading(n),i.next=6,t.$nextTick();case 6:return i.abrupt("return",i.sent);case 7:case"end":return i.stop()}},i,t)}))()},hideLoadingMask:function(){var e=this;e.responseLoadingMask&&e.responseLoadingMask.close()},createFromSave:function(e,t){var i=this,o=e;o.nodes.forEach(function(e){i.addNodeHelper(e.hash,e.x,e.y)}),o.triplets.forEach(function(e){var o=t.map(function(e){return e&&e.id}).indexOf(e.subject),n=t.map(function(e){return e&&e.id}).indexOf(e.object);-1!==o&&-1!==n&&i.graph.addTriplet({subject:i.toNode(t[o]),object:i.toNode(t[n]),predicate:e.predicate})});var n=o.groups;n&&n.forEach(function(e){i.graph.addToGroup({id:e.id,data:e.data},e.children)})},updateFromPicker:function(e){this.graph.getSVGElement().node().focus(),this.ifColorPickerOpen=!1,this.colors=e,this.hoverEdgeColor=e.hex;var t=Array.isArray(this.coloredNodeId)?this.coloredNodeId:[this.coloredNodeId];"grup"===t[0].slice(0,4)&&this.rootObservable.next({type:"GROUPEDIT",prop:"color",value:e.hex,id:t}),"note"===t[0].slice(0,4)&&this.rootObservable.next({type:K,prop:"COLOR",value:e.hex,id:t}),"edge"===t[0].slice(0,4)&&this.rootObservable.next({type:"EDGEEDIT",prop:"COLOR",value:e.hex,hash:t})},actions:function(e){var t=this,o=[],n=[];e.pipe(i.i(R.d)(function(e){switch("UNDO"!==e.type&&"REDO"!==e.type&&(n=[]),e.type){case"UNDO":if(o.length>0){var i=n,a=o.pop();a.type===Y||a.type===W?(a.callback=function(){n=i,n.push(o.pop())},t.rootObservable.next(a)):(t.rootObservable.next(a),n=i,n.push(o.pop()))}break;case"REDO":if(n.length>0){var s=n;t.rootObservable.next(n.pop()),n=s}break;case"CLEARHISTORY":o=[],n=[];break;case W:var r=!1,c=[];if(e.newNode){var d=Array.isArray(e.newNode)?e.newNode:[e.newNode],u=d.map(function(e){var i={id:"note-"+I()(),class:"b-no-snip",nodeShape:t.defaultShape,text:"New",img:!1,isSnip:!1,fixed:!0,color:"#aadcdc",fixedWidth:!1},o=E()({},i,e);return-1===t.textNodes.map(function(e){return e.id}).indexOf(o.id)&&t.textNodes.push(o),t.addNodeHelper(o.id,void 0,void 0,!0),t.notes+=1,t.noteObjs=[].concat(b()(t.noteObjs),[o]),t.resetTools(),o.fixedWidth&&(r=!0),o});c=c.concat(u)}if(e.existingNode){var h=Array.isArray(e.existingNode)?e.existingNode:[e.existingNode];h.forEach(function(e){t.graph.addNode(t.toNode(e),!0),t.recalculateNodesOutside(),e.fixedWidth&&(r=!0)}),c=c.concat(h)}if(e.groups){[].concat(b()(e.groups.entries())).forEach(function(e){var i=e[0],o=e[1];t.graph.addToGroup({id:i,data:o.data},o.children,!0)})}var l=void 0;l=e.triplet?Array.isArray(e.triplet)?e.triplet:[e.triplet]:[],y.a.all(l.map(function(e){return t.graph.addTriplet(e)})).then(function(){o.push({type:Y,nodeId:c.map(function(e){return e.id}),triplet:l})}).then(function(){e.callback&&e.callback()}).catch(function(e){console.log(e)}),t.graph.restart.layout().then(function(){return t.graph.restart.repositionGroupText()}),r&&t.graph.restart.layout();break;case Y:t.closeHoverMenu(),t.closeEdgeHoverMenu();var p=t.graph.getDB(),g=void 0,v=void 0;g=e.nodeId?Array.isArray(e.nodeId)?e.nodeId:[e.nodeId]:[],v=e.triplet?Array.isArray(e.triplet)?e.triplet:[e.triplet]:[];var m=g.map(function(e){return t.graph.getNode(e)}),x=new f.a;m.forEach(function(e){if(e.parent){var t=e.parent;x.has(t.id)?x.get(t.id).children.nodes.push(e.id):x.set(t.id,{data:t.data,children:{nodes:[e.id]}})}});var w=g.map(function(e){return new y.a(function(t,i){p.get({subject:e},function(e,o){e?i(e):t(o)})})}),C=g.map(function(e){return new y.a(function(t,i){p.get({object:e},function(e,o){e?i(e):t(o)})})}),S=v.map(function(e){return e.subject=e.predicate.subject,e.object=e.predicate.object,y.a.resolve(e)});y.a.all([].concat(b()(w),b()(C),b()(S))).then(function(e){return[].concat.apply([],e).map(function(e){var i=t.textNodes.map(function(e){return e&&e.id}).indexOf(e.subject),o=t.textNodes.map(function(e){return e&&e.id}).indexOf(e.object);if(-1!==i&&-1!==o)return{subject:t.toNode(t.textNodes[i]),predicate:e.predicate,object:t.toNode(t.textNodes[o])}})}).then(function(e){var t=new f.a;return e.forEach(function(e){t.set(e.predicate.hash,e)}),[].concat(b()(t.values()))}).then(function(e){return y.a.all(e.map(function(e){return t.graph.removeTriplet(e)})).then(function(){g.forEach(function(e){return t.graph.removeNode(e,t.recalculateNodesOutside)})}).then(function(){o.push({type:W,triplet:e,existingNode:m,groups:x})})}).then(function(){t.graph.restart.layout(),e.callback&&e.callback()}).catch(function(e){return console.log(e)});break;case K:var k=void 0,N=Array.isArray(e.id)?e.id:[e.id],T=Array.isArray(e.value)?e.value:[e.value],O=N.map(function(e){return t.textNodes.findIndex(function(t){return t.id===e})}),D=T.length>1&&N.length===T.length,P=function(e){k=O.map(function(i){return t.textNodes[i][e]}),O.forEach(function(i,o){t.textNodes[i][e]=D?T[o]:T[0]})};switch(e.prop){case Q:P("text"),t.graph.editNode({property:"shortname",id:N,value:T});break;case"IMAGE":P("img"),t.graph.editNode({property:"img",id:N,value:T});break;case Z:P("fixed"),t.graph.editNode({property:"fixed",id:N,value:T});break;case"WIDTH":P("fixedWidth"),t.graph.editNode({property:"fixedWidth",id:N,value:T});break;case"COLOR":P("color"),t.graph.editNode({property:"color",id:N,value:T});break;case"SHAPE":P("nodeShape"),t.graph.editNode({property:"nodeShape",id:N,value:T});break;default:console.log("Unknown property:",e.prop)}o.push({type:e.type,prop:e.prop,value:k,id:e.id});break;case"EDGEEDIT":var _=void 0,M=Array.isArray(e.hash)?e.hash:[e.hash],A=Array.isArray(e.value)?e.value:[e.value],R=M.map(function(e){return t.graph.getPredicate(e)});switch(e.prop){case Q:_=R.map(function(e){return e.text}),t.graph.editEdge({property:"text",id:M,value:A}),t.graph.restart.layout();break;case"ARROW":_=R.map(function(e){return e.arrowhead}),t.graph.editEdge({property:"arrow",id:M,value:A});break;default:console.log("Unknown property:",e.prop)}o.push({type:e.type,prop:e.prop,value:_,hash:e.hash});break;case X:var L=function(){return{id:"grup-"+I()(),data:{color:"#F6ECAF",class:"",text:""}}},G=Array.isArray(e.children)?e.children:[e.children],H=e.translation,$=new f.a;if(G.forEach(function(e){e.nodes.forEach(function(e){var i=t.graph.getNode(e),o=!!i.parent&&t.graph.getGroup(i.parent.id);$.has(o)?$.get(o).nodes.push(e):$.set(o,{nodes:[e]})})}),e.group){var B=Array.isArray(e.group)?e.group:[e.group];G.forEach(function(e,i){!1===B[i]?t.graph.unGroup(G[i]):(!0!==B[i]&&void 0!==B[i]||(B[i]=L()),t.graph.addToGroup(B[i],G[i],!0))}),t.graph.restart.layout().then(function(){return t.graph.restart.repositionGroupText()})}else t.graph.unGroup(G);var j={type:X,group:[].concat(b()($.keys())),children:[].concat(b()($.values()))};H&&(!function(){var e=H.targets,i=e.map(function(e){return t.graph.getNode(e)}),o=i.map(function(e){return e.x+H.x}),n=i.map(function(e){return e.y+H.y});t.graph.editNode({property:"x",id:e,value:o}),t.graph.editNode({property:"y",id:e,value:n})}(),j.translation={targets:H.targets,x:-H.x,y:-H.y}),o.push(j);break;case"GROUPEDIT":var F=void 0,V=Array.isArray(e.id)?e.id:[e.id],z=Array.isArray(e.value)?e.value:[e.value],U=V.map(function(e){return t.graph.getGroup(e)}),q=e.prop;F=U.map(function(e){return e.data[q]}),z.length>1&&z.length===V.length?U.forEach(function(e,t){e.data[q]=z[t]}):U.forEach(function(e){e.data[q]=z[0]}),o.push({type:"GROUPEDIT",prop:q,value:F,id:e.id}),"text"===q?t.graph.restart.layout():t.graph.restart.styles();break;default:console.log("Unknown action:",e.type)}})).subscribe(function(e){return console.log("action",e,o.length,n.length)},console.error,function(){return console.log("FINISH")})},clearScreen:function(){for(var e=document.getElementById("graph");e.firstChild;)e.removeChild(e.firstChild);return this.createGraph(),this.recalculateNodesOutside(),y.a.resolve()},mouseDownGroup:function(e,t,o){var n=this;this.groupDrag=!0;var a=this.graph.getSVGElement(),s=a.select("g.svg-graph").append("g").attr("transform","translate(0,0),scale(1.25)"),r=[];this.mouseState===J&&(r=[].concat(b()(this.activeSelect.nodes.values()))),r=[e].concat(r.filter(function(t){return t.id!==e.id}));var c=[],d=[];r.forEach(function(e){e.class.includes("translucent")||(e.class+=" translucent");var t={x:e.x-40,y:e.y-40};d.push(t);var i=s.append("path").attr("fill",e.color).attr("d",n.nodeShapeToPath({nodeShape:e.nodeShape})).attr("stroke","grey").attr("transform","translate("+t.x/1.25+","+t.y/1.25+")");c.push(i)}),this.graph.restart.styles(),c.slice(0,2).reverse().forEach(function(e){return e.raise()});var u=this.transformCoordinates({x:o.clientX,y:o.clientY}),h=u.x,l=u.y,p=i.i(A.b)(document,"mouseup"),v=i.i(A.b)(document,"mousemove").pipe(i.i(R.e)(function(e){return n.transformCoordinates({x:e.x,y:e.y})}),i.i(R.f)(function(){s.node().remove(),r.forEach(function(e){e.class=e.class.replace(" translucent","")}),n.graph.restart.styles()}),i.i(R.a)(p));v.pipe(i.i(R.g)(1)).subscribe(function(t){var i=t.x,o=t.y,a=n.graph.selectByCoords({x:i,X:i,y:o,Y:o}),s=void 0,c=r;a.groups.length>0?s=a.groups[0]:a.nodes.length>0&&(c=c.filter(function(e){return e.id!==a.nodes[0].id}),r=c.concat(a.nodes[0]));var d=c.map(function(e){return e.id});if(0===a.groups.length&&0===a.nodes.length){var u=r.filter(function(e){return e.parent}).map(function(e){return e.id});u.length>0&&n.rootObservable.next({type:X,group:!1,children:{nodes:u}})}else n.rootObservable.next({type:X,group:s||!0,children:{nodes:r.map(function(e){return e.id})},translation:{targets:d,x:i-e.x,y:o-e.y}})}),i.i(A.c)(i.i(A.d)(v,i.i(A.e)({x:h,y:l})),i.i(A.f)(25)).pipe(i.i(R.a)(p)).subscribe(function(e){var t=g()(e),i=t[0],o=i.x,n=i.y;t.slice(1);d=d.map(function(e,t){var i=e.x,a=e.y;return{x:i+(o-40+5*Math.min(2,t)-i)/(4+Math.min(2,t)),y:a+(n-40+5*Math.min(2,t)-a)/(4+Math.min(2,t))}}),c.forEach(function(e,t){e.attr("transform","translate("+d[t].x/1.25+","+d[t].y/1.25+")")})})},nodeShapeToPath:function(e){switch(e.nodeShape){case"rect":return"M16 48 L48 48 L48 16 L16 16 Z";case"circle":return"M16,34a16,16 0 1,0 34,0a16,16 0 1,0 -34,0";case"capsule":var t=e.width,i=e.height;if(t&&i){var o=t/2,n=i/2,a=Math.round(Math.min(t,i)/8),s={x:o,y:n},r={x:o,y:n+i},c={x:o+t,y:n+i},d={x:o+t,y:n};return["M"+s.x+" "+(s.y+a),"V"+(r.y-a),"C"+r.x+" "+r.y+" "+(r.x+a)+" "+r.y+" "+(r.x+a)+" "+r.y,"H"+(c.x-a),"C"+c.x+" "+c.y+" "+c.x+" "+(c.y-a)+" "+c.x+" "+(c.y-a),"V"+(d.y+a),"C"+d.x+" "+d.y+" "+(d.x-a)+" "+d.y+" "+(d.x-a)+" "+d.y,"H"+(s.x+a),"C"+s.x+" "+s.y+" "+s.x+" "+(s.y+a)+" "+s.x+" "+(s.y+a)+" Z"].join(" ")}return"M16 20 V44 C16 48 20 48 20 48 H44 C48 48 48 44 48 44 V20 C48 16 44 16 44 16 H20 C16 16 16 20 16 20 Z";default:return"M16 48 L48 48 L48 16 L16 16 Z"}},createGraph:function(){var e=this,t=this.mouseOverNode$,o=this.mouseDown$,n=this,a={currentNode:{data:{},selection:{},mouseOverNode:!1},startedDragAt:"",nodeMap:new f.a};this.$on("mouseovernode",function(){});var s={layoutType:"jaccardLinkLengths",edgeLength:170,jaccardModifier:.9,height:document.getElementById(this.$el.id).clientHeight,width:document.getElementById(this.$el.id).clientWidth,edgeSmoothness:15,palette:ee,nodeToColor:function(e){return e.color?e.color:' "#ffffff"'},nodeToPin:function(e){return!0===e.fixed||e.fixed%2==1},nodeShape:"capsule",nodePath:function(e){switch(e.nodeShape){case"rect":return"M16 48 L48 48 L48 16 L16 16 Z";case"circle":return"M20,40a20,20 0 1,0 40,0a20,20 0 1,0 -40,0";case"capsule":var t=e.width,i=e.height;if(t&&i){var o=t/2,n=i/2,a=Math.round(Math.min(t,i)/8),s={x:o,y:n},r={x:o,y:n+i},c={x:o+t,y:n+i},d={x:o+t,y:n};return["M"+s.x+" "+(s.y+a),"V"+(r.y-a),"C"+r.x+" "+r.y+" "+(r.x+a)+" "+r.y+" "+(r.x+a)+" "+r.y,"H"+(c.x-a),"C"+c.x+" "+c.y+" "+c.x+" "+(c.y-a)+" "+c.x+" "+(c.y-a),"V"+(d.y+a),"C"+d.x+" "+d.y+" "+(d.x-a)+" "+d.y+" "+(d.x-a)+" "+d.y,"H"+(s.x+a),"C"+s.x+" "+s.y+" "+s.x+" "+(s.y+a)+" "+s.x+" "+(s.y+a)+" Z"].join(" ")}return"M16 20 V44 C16 48 20 48 20 48 H44 C48 48 48 44 48 44 V20 C48 16 44 16 44 16 H20 C16 16 16 20 16 20 Z";default:return"M16 48 L48 48 L48 16 L16 16 Z"}},groupFillColor:function(e){return e&&e.data.color?e.data.color:"#F6ECAF"},clickAway:function(){e.closeHoverMenu()},zoomScale:function(t){e.scale=t},selection:function(){return e.activeSelect},nodeSizeChange:function(){e.updateHoverMenu()},endGroupDrag:function(t){e.groupDrag=!1},mouseOverGroup:function(t,i,o){e.hoverDisplay?e.hoverAwait=[t,i,o]:e.hoverQueue$.next(function(){return e.createHoverMenu(t,i,o)})},mouseOutGroup:function(t,i,o){e.hoverQueue$.next(!1)},mouseOverNode:function(i,o,s){if(e.closeEdgeHoverMenu(),e.hoverQueue$.next(function(){return e.createHoverMenu(i,o,s)}),n.dbClickCreateNode=!1,n.clickedGraphViz=!1,!a.currentNode.mouseOverNode){var r=l()({},i,{mouseOverNode:!0});t.next(r),e.dragging?e.dragToNode=i:e.currentNode=i,a.currentNode.mouseOverNode=!0,a.currentNode.data=i,a.currentNode.selection=o,e.$emit("mouseovernode",i.hash)}},mouseOutNode:function(i,o,s){e.hoverQueue$.next(!1),n.dbClickCreateNode=!0,n.clickedGraphViz=!0;var r=l()({},i,{mouseOverNode:!1});t.next(r),a.currentNode.mouseOverNode=!1},mouseOverEdge:function(t,i,o){e.closeHoverMenu(),e.hoverQueue$.next(function(){return e.createEdgeHoverMenu(t,i,o)}),n.dbClickCreateNode=!1,n.clickedGraphViz=!1},mouseOutEdge:function(){e.hoverQueue$.next(!1)},edgeColor:function(e){return e&&e.stroke?e.stroke.substring(1):"000000"},edgeArrowhead:function(e){return e&&e.arrowhead?e.arrowhead:"R"},edgeStroke:function(e){return e&&e.strokeWidth?e.strokeWidth:2},edgeDasharray:function(e){return e&&e.strokeDasharray?e.strokeDasharray:0},edgeRemove:function(t,i,o){e.changeMouseState(q),e.rootObservable.next({type:Y,triplet:t})},imgResize:function(t){e.isResizing=t},canDrag:function(){return(e.$data.mouseState===q||e.mouseState===J)&&!e.isResizing},isSelect:function(){return e.$data.mouseState===J},clickGroup:function(t,i,o){e.mouseState!==q&&e.mouseState!==J||(e.mouseState===q&&e.changeMouseState(J),e.activeSelect.selectExclusive(t),e.graph.restart.styles())}};this.graph=M()("graph",s),this.linkTool=i.i(V.a)(this.graph,o,t,this.toNode,function(t){e.rootObservable.next({type:W,triplet:t})},function(){e.changeMouseState(q)}),this.linkToolDispose=this.linkTool(this.textNodes),this.graph.edgeOptions.setDblClickEdge(function(t,i){o.next({type:"EDITEDGE",d:t,restart:e.graph.restart.layout,textElem:i.node().querySelector("text"),save:function(i){e.rootObservable.next({type:"EDGEEDIT",prop:Q,value:i,hash:t.predicate.hash})}})}),this.graph.edgeOptions.setClickEdge(function(t){e.mouseState!==q&&e.mouseState!==J||(e.mouseState===q&&e.changeMouseState(J),e.activeSelect.selectExclusive(t),e.graph.restart.styles())}),this.graph.nodeOptions.setClickNode(function(t){e.mouseState!==q&&e.mouseState!==J||(e.mouseState===q&&e.changeMouseState(J),e.activeSelect.selectExclusive(t),e.graph.restart.styles())}),this.graph.nodeOptions.setDblClickNode(function(t,i){"note-"===t.hash.slice(0,5)&&(e.currentNode=t,o.next({type:"EDITNODE",d:t,restart:e.graph.restart.layout,textElem:i.node().parentNode.querySelector("text"),clickedElem:i,save:function(i){e.rootObservable.next({type:K,prop:Q,value:i,id:t.id})}}))}),this.graph.groupOptions.setDblClickGroup(function(t,i){t.data.expandText=!0,o.next({type:"EDITGROUP",d:t,restart:e.graph.restart.layout,textElem:i.node().parentNode.querySelector("text"),clickedElem:i,save:function(i){e.rootObservable.next({type:"GROUPEDIT",prop:"text",value:i,id:t.id})}})}),i.i(z.a)(o,function(){e.canKeyboardUndo=!1,e.mouseState="TEXTEDIT"},function(){e.canKeyboardUndo=!0,e.changeMouseState(q)});var r=this.graph.getSVGElement().node();return i.i(A.b)(r,"click").pipe(i.i(R.a)(this.destroy$),i.i(R.h)(1)).subscribe(function(){e.clickedGraphViz=!0}),setTimeout(this.graph.restart.layout,50),y.a.resolve()},toNode:function(e){var t="."+e.class,i=$(t).css("backgroundColor");return l()({hash:""+(e.id||e.hash),shortname:e.text,color:i},e)},addNodes:function(){var e=this;this.textNodes.forEach(function(t){return e.graph.addNode(e.toNode(t))})},addNodeHelper:function(e,t,i,o){var n=this.textNodes.map(function(e){return e.id}).indexOf(e);if(-1!==n){var a=this.toNode(this.textNodes[n]);t&&i&&(a=l()({x:t,y:i},a)),this.graph.addNode(a,o)}this.recalculateNodesOutside(),this.resetTools()},addNode:function(e){this.addNodeHelper(e),this.graph.restart.layout()},nodeRemove:function(e){this.closeHoverMenu(),this.changeMouseState(q),this.rootObservable.next({type:Y,nodeId:e.id})},groupRemove:function(e){this.closeHoverMenu(),this.rootObservable.next({type:X,group:!1,children:{nodes:e.map(function(e){return e.leaves.map(function(e){return e.id})}).reduce(function(e,t){return e.concat(t)},[])}})},mouseOverBrush:function(e,t){var o=this;this.dbClickCreateNode=!1,this.ifColorPickerOpen=!0,this.coloredNodeId=[];var n=e.id;if(this.activeSelect.includes(n))switch(n.slice(0,4)){case"note":[].concat(b()(this.activeSelect.nodes.keys())).forEach(function(e){return o.coloredNodeId.push(e)});break;case"grup":[].concat(b()(this.activeSelect.groups.keys())).forEach(function(e){return o.coloredNodeId.push(e)})}else this.coloredNodeId=[n];this.colors=e.color?e.color:e.data.color,this.$refs.vueColorPicker.currentColor=e.color;var a=document.getElementById("graph").getBoundingClientRect(),s=a.x,r=a.y,c=a.width,d=a.height,u=t.clientX-s,h=t.clientY+50-r;u+250>c&&(u-=250),h<0&&(h=0),h+70>d&&(h-=h+80-d),this.styleObject={position:"absolute !important",top:h+"px !important",left:u+"px !important","z-index":"9999"};var l=this.graph.getSVGElement().node();i.i(A.b)(l,"click").pipe(i.i(R.i)(function(){return!0===o.ifColorPickerOpen}),i.i(R.h)(1),i.i(R.d)(function(e){return e.stopPropagation()}),i.i(R.d)(function(e){return e.preventDefault()})).subscribe(function(){o.ifColorPickerOpen=!1})},startArrow:function(e,t){this.mouseState="CREATEEDGE",this.currentNode=e,this.mouseDown$.next({type:"CREATEEDGE",clickedNode:e,selection:t})},resizeDrag:function(e,t,o){var n=this;if("TEXTEDIT"!==this.mouseState){var a=this.mouseState;this.isResizing=!0;var s=o.clientX,r=this.transformCoordinates({x:s,y:o.clientY}).x,c=e.width;i.i(A.b)(document,"mousemove").pipe(i.i(R.d)(function(e){return e.stopPropagation()}),i.i(R.e)(function(e){return n.transformCoordinates({x:e.clientX,y:o.clientY}).x}),i.i(R.e)(function(e){return e-r}),i.i(R.e)(function(e){return c+2*e}),i.i(R.c)(function(e){var i=t.node().parentNode.querySelector("image");return e>(i?i.getBBox().width:0)+30}),i.i(R.b)(10),i.i(R.a)(i.i(A.b)(document,"mouseup").pipe(i.i(R.h)(1))),i.i(R.f)(function(){n.isResizing=!1,n.rootObservable.next({type:K,prop:"WIDTH",id:e.id,value:e.fixedWidth})})).subscribe(function(t){e.fixedWidth=t,n.graph.restart.layout(),n.mouseState=a})}},dblClickOnPage:function(e){if(this.dbClickCreateNode&&!this.hoverDisplay&&!this.ifColorPickerOpen&&"TEXTEDIT"!==this.mouseState&&"svg"===e.target.tagName){var t=this.transformCoordinates({x:e.clientX,y:e.clientY});this.rootObservable.next({type:W,newNode:t})}},resetTools:function(){this.linkToolDispose(),this.linkToolDispose=this.linkTool([].concat(b()(this.textNodes),b()(this.noteObjs)))},recalculateNodesOutside:function(){var e=this;this.nodesOutsideDiagram=this.textNodes.filter(function(t){return!e.graph.hasNode(""+t.id)})},createHoverMenu:function(e,t,i){this.dbClickCreateNode=!1;var o=t.node(),n=o.getBoundingClientRect();this.hoverPos={x:n.x,y:n.y,width:n.width,height:n.height},this.hoverColor=e.color||e.data.color,this.hoverFixed=!0===e.fixed||e.fixed%2==1,this.hoverDisplay=!0,this.hoverShape=e.nodeShape,this.hoverType=e.id.slice(0,4),this.hoverData={data:e,el:t},this.hoverEdgeDisplay=!1},updateHoverMenu:function(){if(this.hoverData){var e=this.hoverData.data,t=this.hoverData.el.node().getBoundingClientRect();this.hoverPos={x:t.x,y:t.y,width:t.width,height:t.height},this.hoverColor=e.color||e.data.color,this.hoverFixed=!0===e.fixed||e.fixed%2==1,this.hoverShape=e.nodeShape}},closeHoverMenu:function(e){this.ifColorPickerOpen||(this.dbClickCreateNode=!0),this.hoverDisplay=!1,this.hoverPos=void 0,this.hoverData=void 0,this.hoverAwait&&(this.createHoverMenu.apply(this,b()(this.hoverAwait)),this.hoverAwait=!1)},hoverInteract:function(e){var t=e.data.data,i=[],o=[];t&&this.activeSelect.includes(t.id)?([].concat(b()(this.activeSelect.nodes.values())).forEach(function(e){return i.push(e)}),[].concat(b()(this.activeSelect.groups.values())).forEach(function(e){return o.push(e)})):"note"===t.id.slice(0,4)?i.push(t):"grup"===t.id.slice(0,4)&&o.push(t),this.ifColorPickerOpen=!1;var n=e.data.el,a=e.payload,s=e.e;switch(e.type){case"COLOR":this.mouseOverBrush(t,s);break;case"CREATEEDGE":this.startArrow(t,n);break;case Y:"grup"===t.id.slice(0,4)?this.groupRemove(o):(this.closeHoverMenu(),this.changeMouseState(q),this.rootObservable.next({type:Y,nodeId:i.map(function(e){return e.id})}));break;case"GROUPDRAG":this.mouseDownGroup(t,n,s);break;case"NODERESIZE":this.resizeDrag(t,n,s);break;case Z:this.rootObservable.next({type:K,prop:Z,id:i.map(function(e){return e.id}),value:!t.fixed}),this.hoverFixed=!0===t.fixed||t.fixed%2==1;break;case"SHAPE":i.every(function(e){return e.nodeShape===a})||(this.rootObservable.next({type:K,prop:"SHAPE",value:a,id:i.map(function(e){return e.id})}),this.hoverShape=t.nodeShape),this.defaultShape=a;break;default:console.warn("Unrecognised event ",e.type," on ",e.data)}},createEdgeHoverMenu:function(e,t,i){this.hoverEdgeDisplay||(this.hoverEdgePos={x:i.clientX,y:i.clientY,width:50,height:50},this.hoverEdgeColor=e.predicate?e.predicate.stroke||"#000000":"#000000",this.hoverEdgeDisplay=!0,this.hoverEdgeType=e.predicate?e.predicate.hash.slice(0,4):"edge",this.hoverEdgeData={data:e,el:t},this.hoverDisplay=!1)},closeEdgeHoverMenu:function(){this.hoverEdgeDisplay=!1,this.hoverEdgePos=void 0,this.hoverEdgeData=void 0,this.hoverAwait&&(this.createEdgeHoverMenu.apply(this,b()(this.hoverAwait)),this.hoverAwait=!1)},edgeColorChange:function(e,t){var o=this;this.dbClickCreateNode=!1,this.ifColorPickerOpen=!0,this.coloredNodeId=e.map(function(e){return e.predicate.hash}),this.colors=e[0].predicate.stroke?e[0].predicate.stroke:"#000000",this.$refs.vueColorPicker.currentColor=this.colors;var n=document.getElementById("graph").getBoundingClientRect(),a=n.x,s=n.y,r=n.width,c=n.height,d=t.clientX-a,u=t.clientY+50-s;d+250>r&&(d-=250),u<0&&(u=0),u+70>c&&(u-=u+80-c),this.styleObject={position:"absolute !important",top:u+"px !important",left:d+"px !important","z-index":"9999"};var h=this.graph.getSVGElement().node();i.i(A.b)(h,"click").pipe(i.i(R.i)(function(){return!0===o.ifColorPickerOpen}),i.i(R.h)(1),i.i(R.d)(function(e){return e.stopPropagation()}),i.i(R.d)(function(e){return e.preventDefault()})).subscribe(function(){o.ifColorPickerOpen=!1})},edgeRemove:function(e){this.changeMouseState(q),this.rootObservable.next({type:Y,triplet:e})},edgeArrowChange:function(e,t){this.rootObservable.next({type:"EDGEEDIT",prop:"ARROW",value:e.map(function(e){return t}),hash:e.map(function(e){return e.predicate.hash})})},edgeWeightChange:function(e,t){this.rootObservable.next({type:"EDGEEDIT",prop:"WEIGHT",value:e.map(function(e){return t}),hash:e.map(function(e){return e.predicate.hash})})},edgeDashChange:function(e,t){this.rootObservable.next({type:"EDGEEDIT",prop:"DASH",value:e.map(function(e){return t}),hash:e.map(function(e){return e.predicate.hash})})},hoverEdgeInteract:function(e){var t=e.data.data,i=e.payload,o=[];switch(t&&this.activeSelect.includes(t.predicate.hash)?[].concat(b()(this.activeSelect.edges.values())).forEach(function(e){return o.push(e)}):o.push(t),e.type){case"COLOR":this.edgeColorChange(o,e.e);break;case"ARROW":this.edgeArrowChange(o,i);break;case"WEIGHT":this.edgeWeightChange(o,i);break;case"DASH":this.edgeDashChange(o,i);break;case Y:this.edgeRemove(o);break;default:console.warn("Unrecognised event ",e.type," on ",e.data)}},loadFromSaved:function(e){var t=this;e.nodes.forEach(function(e){t.addNodeHelper(e.hash,e.x,e.y)}),e.triplets.forEach(function(e){var i=t.textNodes.map(function(e){return e&&e.id}).indexOf(e.subject),o=t.textNodes.map(function(e){return e&&e.id}).indexOf(e.object);-1!==i&&-1!==o&&t.graph.addTriplet({subject:t.toNode(t.textNodes[i]),object:t.toNode(t.textNodes[o]),predicate:e.predicate})});var i=e.groups;i&&i.forEach(function(e){t.graph.addToGroup({id:e.id,data:e.data},e.children,!0)}),this.graph.restart.layout().then(function(){return t.graph.restart.repositionGroupText()})},readFile:function(e){var t=this,i=e.target.files[0];if("image/svg+xml"===i.type){var o=new FileReader;o.onload=function(){var e=new DOMParser,i=e.parseFromString(o.result,"text/xml"),n=i.querySelector("#graphJSONData");if(n&&n.innerHTML){var a=JSON.parse(n.innerHTML);a.textNodes.forEach(function(e){return t.textNodes.push(e)}),t.clearScreen().then(function(){t.rootObservable.next({type:"CLEARHISTORY"}),t.loadFromSaved(a.saved)})}else console.warn("No saved data found")},o.readAsText(i)}else console.warn("unrecoginsed file type.")},changeDefaultShape:function(e){this.defaultShape=e},changeMouseState:function(e){var t=this;switch("ADDNOTE"!==e&&"BOLD"!==e&&"CLEARSCREEN"!==e&&"COPY"!==e&&"COLOR"!==e&&e!==Y&&e!==X&&"IMPORTPROB"!==e&&"ITALIC"!==e&&"OPEN"!==e&&e!==Z&&e!==q&&"REDO"!==e&&"REMOVEARROWS"!==e&&"SAVE"!==e&&e!==J&&"UNDERLINE"!==e&&"UNDO"!==e?console.error("Not sure what state",e,"is"):(this.mouseStateObs$.next(e),this.mouseState=e),e){case"ADDNOTE":this.changeMouseState(q),this.rootObservable.next({type:W,newNode:!0});break;case"BOLD":this.mouseState=J;var o=[].concat(b()(this.activeSelect.nodes.values())),a=[].concat(b()(this.activeSelect.edges.values())),r=/^ *(<.*>)*(<b>)(.*)(<\/b>)(<\/.*>)* *$/,d=o.every(function(e){return r.test(e.shortname)})&&a.every(function(e){return r.test(e.predicate.text)});o=o.map(function(e){var t=e.shortname.replace(/<b>|<\/b>/g,"");return d||(t="<b>"+t+"</b>"),t}),a=a.map(function(e){var t=e.predicate.text.replace(/<b>|<\/b>/g,"");return d||(t="<b>"+t+"</b>"),t}),o.length>0&&this.rootObservable.next({type:K,prop:Q,id:[].concat(b()(this.activeSelect.nodes.keys())),value:o}),a.length>0&&this.rootObservable.next({type:"EDGEEDIT",prop:Q,hash:[].concat(b()(this.activeSelect.edges.keys())),value:a});break;case"CLEARSCREEN":this.changeMouseState(q),this.clearScreen(),this.rootObservable.next({type:"CLEARHISTORY"});break;case"COLOR":this.mouseState=J,this.dbClickCreateNode=!1,this.ifColorPickerOpen=!0,this.coloredNodeId=[].concat(b()(this.activeSelect.nodes.keys())),this.colors.hex="#FFFFFF",this.styleObject={position:"absolute !important",top:"70px !important",right:"95px !important","z-index":"9999"};var h=this.graph.getSVGElement().node();i.i(A.b)(h,"click").pipe(i.i(R.a)(this.destroy$),i.i(R.i)(function(){return!0===t.ifColorPickerOpen}),i.i(R.h)(1),i.i(R.d)(function(e){return e.stopPropagation()}),i.i(R.d)(function(e){return e.preventDefault()})).subscribe(function(){t.ifColorPickerOpen=!1});break;case"COPY":if(0===this.activeSelect.nodes.size)break;var p=new f.a,g=this.graph.getSVGElement().node(),v=g.getBoundingClientRect(),m=this.transformCoordinates({x:v.width+v.x,y:v.height+v.y}),y=[].concat(b()(this.activeSelect.nodes.values())).map(function(e){var t=e.color,i=e.fixed,o=e.fixedWidth,n=e.img,a=e.isSnip,s=e.nodeShape,r=e.shortname,c=e.id,d=e.x,u=e.y,h=e.width,l=e.height,g="note-"+I()(),v=d+100+h/2>m.x?d-20-h/2:d+20+h/2,f=u+160+l>m.y?u-15-l:u+15+l,y={color:t,fixed:i,fixedWidth:o,img:n,isSnip:a,nodeShape:s,shortname:r,class:e.class.replace(" highlight",""),id:g,hash:g,x:v,y:f};return p.set(c,y),y}),x=[].concat(b()(this.activeSelect.edges.values())).filter(function(e){return p.has(e.predicate.subject)||p.has(e.predicate.object)}).map(function(e){var t=e.source,i=e.predicate,o=e.target;p.has(i.subject)&&(t=p.get(i.subject)),p.has(i.object)&&(o=p.get(i.object));var n=E()({},i);return n.subject=t.id,n.object=o.id,n.hash="edge-"+I()(),n.class=n.class.replace(" highlight",""),{subject:t,predicate:n,object:o}});this.changeMouseState(q),this.rootObservable.next({type:W,newNode:y,triplet:x});break;case Y:var w=[].concat(b()(this.activeSelect.nodes.keys())),C=[].concat(b()(this.activeSelect.edges.values()));if(this.changeMouseState(q),this.activeSelect.clear(),0===w.length&&0===C.length)break;this.rootObservable.next({type:Y,nodeId:w,triplet:C});break;case X:var k=[].concat(b()(this.activeSelect.nodes.keys()));k.length>0&&(this.rootObservable.next({type:X,group:!0,children:{nodes:k}}),this.changeMouseState(q));break;case"IMPORTPROB":this.changeMouseState(q);var T=this.getDlist&&this.getDlist();if(!T||0===u()(T).length)return;var O={},D=[];u()(T).forEach(function(e){var t="note-"+I()();O[e]={id:t,nodeShape:"circle",text:e,fixed:!1,hash:t}}),c()(T).forEach(function(e){var t=s()(e,2),i=t[0];t[1].forEach(function(e){D.push({subject:O[e],predicate:{type:"arrow",text:"",hash:"edge-"+I()(),subject:O[e].id,object:O[i].id,class:"",constraint:{axis:"y",type:"separation",leftID:O[e].id,rightID:O[i].id,gap:170},arrowhead:"R",stroke:"#000000",strokeWidth:2,strokeDasharray:0},object:O[i]})})}),this.rootObservable.next({type:W,newNode:n()(O),triplet:D,callback:this.graph.restart.handleDisconnects});break;case"ITALIC":this.mouseState=J;var P=[].concat(b()(this.activeSelect.nodes.values())),_=[].concat(b()(this.activeSelect.edges.values())),M=/^ *(<.*>)*(<i>)(.*)(<\/i>)(<\/.*>)* *$/,L=P.every(function(e){return M.test(e.shortname)})&&_.every(function(e){return M.test(e.predicate.text)});P=P.map(function(e){var t=e.shortname.replace(/<i>|<\/i>/g,"");return L||(t="<i>"+t+"</i>"),t}),_=_.map(function(e){var t=e.predicate.text.replace(/<i>|<\/i>/g,"");return L||(t="<i>"+t+"</i>"),t}),P.length>0&&this.rootObservable.next({type:K,prop:Q,id:[].concat(b()(this.activeSelect.nodes.keys())),value:P}),_.length>0&&this.rootObservable.next({type:"EDGEEDIT",prop:Q,hash:[].concat(b()(this.activeSelect.edges.keys())),value:_});break;case"OPEN":this.changeMouseState(q);var G=document.createElement("input");G.setAttribute("type","file"),G.click(),G.onchange=function(e){t.readFile(e)};break;case Z:if(this.mouseState=J,0===this.activeSelect.nodes.size)break;this.rootObservable.next({type:K,prop:Z,id:[].concat(b()(this.activeSelect.nodes.keys())),value:[].concat(b()(this.activeSelect.nodes.values())).map(function(e){return!e.fixed})});break;case q:this.mouseState=q,this.activeSelect.clear(),this.graph.restart.styles();break;case"REDO":this.changeMouseState(q),this.rootObservable.next({type:"REDO"});break;case"REMOVEARROWS":this.changeMouseState(q);this.graph.getDB().get({},function(e,i){e&&console.error(e);var o=i.map(function(e){var i=t.textNodes.map(function(e){return e&&e.id}).indexOf(e.subject),o=t.textNodes.map(function(e){return e&&e.id}).indexOf(e.object);if(-1!==i&&-1!==o)return{subject:t.toNode(t.textNodes[i]),predicate:e.predicate,object:t.toNode(t.textNodes[o])}});t.rootObservable.next({type:Y,triplet:o})});break;case"SAVE":this.activeSelect.clear(),this.changeMouseState(q),this.closeHoverMenu(),setTimeout(N()(S.a.mark(function e(){var i;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.graph.saveGraph();case 2:i=e.sent,t.$emit("save",i,t.graph.getSVGElement().node(),t.textNodes);case 4:case"end":return e.stop()}},e,t)})),50);break;case J:var H=this.graph.getSVGElement(),$=H.node(),B=this.mouseStateObs$.pipe(i.i(R.c)(function(e){return e!==J}));i.i(A.b)($,"mousedown").pipe(i.i(R.a)(B),i.i(R.c)(function(e){return"svg"===e.target.tagName}),i.i(R.e)(function(e){return l()({},t.transformCoordinates({x:e.x,y:e.y}),{shift:e.shiftKey,alt:e.altKey})}),i.i(R.e)(function(e){var i=e.x,o=e.y,n=e.shift,a=e.alt,s=t.activeSelect.size;return n||a||t.activeSelect.clear(),{x:i,y:o,addTo:!a,preSize:s}}),i.i(R.e)(function(e){var t=e.x,i=e.y,o=e.addTo,n=e.preSize;return{x:t,y:i,addTo:o,elem:H.select(".svg-graph").append("path").attr("id","selector").attr("d","M"+t+" "+i+" H"+t+" V"+i+" H"+t+"Z").attr("style","stroke:rgb(78, 140, 233);stroke-width:1").attr("shape-rendering","crispEdges").attr("fill","rgba(78,168,233,0.1)").attr("stroke-dasharray","4 3"),preSize:n}})).subscribe(function(e){var o=e.x,n=e.y,a=e.addTo,r=e.elem,c=e.preSize,d=i.i(A.b)(document,"mouseup").pipe(i.i(R.h)(1));d.pipe(i.i(R.e)(function(e){return t.transformCoordinates({x:e.x,y:e.y})}),i.i(R.e)(function(e){return{X:e.x,Y:e.y}})).subscribe(function(e){var i=e.X,a=e.Y;i===o&&a===n&&0===c&&0===t.activeSelect.size&&t.changeMouseState(q),r.remove(),t.graph.restart.styles()}),i.i(A.b)(document,"mousemove").pipe(i.i(R.d)(function(e){return e.preventDefault()}),i.i(R.d)(function(e){return e.stopPropagation()}),i.i(R.e)(function(e){return t.transformCoordinates({x:e.x,y:e.y})}),i.i(R.e)(function(e){return{X:e.x,Y:e.y}}),i.i(R.e)(function(e){var i=e.X,a=e.Y;r.attr("d","M"+o+" "+n+" H"+i+" V"+a+" H"+o+"Z");var s=t.graph.selectByCoords({x:o,X:i,y:n,Y:a});return[].concat(b()(s.nodes),b()(s.edges))}),i.i(R.j)(),i.i(R.a)(d)).subscribe(function(e){var i=s()(e,2),o=i[0],n=i[1];a?(t.activeSelect.deselect(o),t.activeSelect.select(n)):(t.activeSelect.select(o),t.activeSelect.deselect(n)),t.graph.restart.styles()})});var j=i.i(A.b)($,"keydown").pipe(i.i(R.a)(this.destroy$),i.i(R.a)(B)),F=j.pipe(i.i(R.c)(function(e){return e.ctrlKey||e.metaKey&&!e.shiftKey&&!e.altKey}));j.pipe(i.i(R.c)(function(e){return 27===e.keyCode}),i.i(R.d)(function(e){return e.preventDefault()})).subscribe(function(){t.activeSelect.size>0?(t.activeSelect.clear(),t.graph.restart.styles()):t.changeMouseState(q)}),j.pipe(i.i(R.c)(function(e){return 46===e.keyCode}),i.i(R.d)(function(e){return e.preventDefault()})).subscribe(function(){t.changeMouseState(Y)}),F.pipe(i.i(R.c)(function(e){return 67===e.keyCode}),i.i(R.d)(function(e){return e.preventDefault()})).subscribe(function(){t.changeMouseState("COPY")}),F.pipe(i.i(R.c)(function(e){return 85===e.keyCode}),i.i(R.d)(function(e){return e.preventDefault()})).subscribe(function(){t.changeMouseState("UNDERLINE")}),F.pipe(i.i(R.c)(function(e){return 66===e.keyCode}),i.i(R.d)(function(e){return e.preventDefault()})).subscribe(function(){t.changeMouseState("BOLD")}),F.pipe(i.i(R.c)(function(e){return 73===e.keyCode}),i.i(R.d)(function(e){return e.preventDefault()})).subscribe(function(){t.changeMouseState("ITALIC")});break;case"UNDERLINE":this.mouseState=J;var V=[].concat(b()(this.activeSelect.nodes.values())),z=[].concat(b()(this.activeSelect.edges.values())),U=/^ *(<.*>)*(<u>)(.*)(<\/u>)(<\/.*>)* *$/,ee=V.every(function(e){return U.test(e.shortname)})&&z.every(function(e){return U.test(e.predicate.text)});V=V.map(function(e){var t=e.shortname.replace(/<u>|<\/u>/g,"");return ee||(t=t.replace(/ *^((<[^<>]*>)*)(.*?)((<\/[^<>]*>)*)$ */,"$1<u>$3</u>$4")),t}),z=z.map(function(e){var t=e.predicate.text.replace(/<u>|<\/u>/g,"");return ee||(t=t.replace(/ *^((<[^<>]*>)*)(.*?)((<\/[^<>]*>)*)$ */,"$1<u>$3</u>$4")),t}),V.length>0&&this.rootObservable.next({type:K,prop:Q,id:[].concat(b()(this.activeSelect.nodes.keys())),value:V}),z.length>0&&this.rootObservable.next({type:"EDGEEDIT",prop:Q,hash:[].concat(b()(this.activeSelect.edges.keys())),value:z});break;case"UNDO":this.changeMouseState(q),this.rootObservable.next({type:"UNDO"})}this.graph.getSVGElement().node().focus()},transformCoordinates:function(e){var t=e.x,i=e.y,o=this.graph.getSVGElement().node(),n=o.querySelector("g"),a=o.createSVGPoint();a.x=t,a.y=i;var s=n.getScreenCTM(),r=a.matrixTransform(s.inverse());return{x:r.x,y:r.y}},updateCanvasSize:function(){var e=document.getElementById("xb-arg-map");this.graph.canvasOptions.setWidth(e.clientWidth),this.graph.canvasOptions.setHeight(e.clientHeight)}}}},236:function(e,t,i){"use strict";var o=i(109),n=i(127),a=i(217),s=i.n(a),r=function(e,t){return function(i,o){var n=t.getBoundingClientRect(),a=e.getScreenCTM();return{x:a.a*i+a.c*o+a.e-n.left,y:a.b*i+a.d*o+a.f-n.top}}};t.a=function(e,t,a,c,d,u){return function(h){function l(){var t=e.getSVGElement().selectAll("#menu-line-overlay").data(v),i=t.enter().append("line").attr("id","menu-line-overlay");t=t.merge(i),t.attr("x1",function(e){return e.start.x}).attr("y1",function(e){return e.start.y}).attr("x2",function(e){return e.end.x}).attr("y2",function(e){return e.end.y}).attr("stroke-width",1).attr("stroke","grey").attr("pointer-events","none")}var p={start:{x:0,y:0},end:{x:0,y:0}},g={},v=[p],f=i.i(o.b)(document,"mousemove"),m=i.i(o.b)(document,"mouseup"),y=t.pipe(i.i(n.c)(function(e){return"CREATEEDGE"===e.type}),i.i(n.l)(function(t){g.startedDragAt=t.clickedNode.hash;var o=t.selection.node().getBBox(),a=o.x+o.width/2,v=o.y+o.height/2,y=r(t.selection.node(),document.body),x=y(a,v),b=e.getSVGElement().node(),w=b.createSVGPoint();return w.x=x.x,w.y=x.y,w=w.matrixTransform(b.getScreenCTM().inverse()),p.start={x:w.x,y:w.y},f.pipe(i.i(n.e)(function(e){e.preventDefault();var t=b.createSVGPoint();return function(e){return t.x=e.clientX,t.y=e.clientY,t.matrixTransform(b.getScreenCTM().inverse())}(e)}),i.i(n.a)(m),i.i(n.f)(function(){p.end={x:0,y:0},p.start={x:0,y:0},l(),g.currentNode.mouseOverNode&&g.startedDragAt!==g.currentNode.hash&&d({subject:c(h.filter(function(e){return""+(e.id||e.hash)===g.startedDragAt})[0]),predicate:{type:"arrow",text:"",class:"",hash:"edge-"+s()(),subject:g.startedDragAt,object:g.currentNode.hash},object:c(h.filter(function(e){return""+(e.id||e.hash)===g.currentNode.hash})[0])}),u()}))})),x=y.subscribe(function(e){p.end={x:e.x,y:e.y},l()},function(e){console.log("ERROR",e)},function(){p.end={x:0,y:0},p.start={x:0,y:0},l()}),b=a.subscribe(function(e){g.currentNode=e});return function(){x.unsubscribe(),b.unsubscribe()}}}},237:function(e,t,i){"use strict";var o=i(139),n=i.n(o),a=i(136),s=i.n(a),r=i(249),c=i.n(r),d=i(250),u=i.n(d),h=function(){function e(t){c()(this,e),this._nodes=new s.a,this._edges=new s.a,this._groups=new s.a,t&&this.select(t)}return u()(e,[{key:"select",value:function(t){var i=this;t instanceof e?this.merge(t):(t=Array.isArray(t)?t:[t],t.forEach(function(e){switch((e.id?e.id:e.predicate.hash).substring(0,4)){case"edge":i.addEdge(e);break;case"note":i.addNode(e);break;case"grup":i.addGroup(e);break;default:console.warn("Unkown element in selection.")}}))}},{key:"deselect",value:function(t){var i=this;t instanceof e?this.minus(t):(t=Array.isArray(t)?t:[t],t.forEach(function(e){switch((e.id?e.id:e.predicate.hash).substring(0,4)){case"edge":i.delEdge(e);break;case"note":i.delNode(e);break;case"grup":i.delGroup(e);break;default:console.warn("Unkown element in selection.")}}))}},{key:"selectExclusive",value:function(t){var i=this;t instanceof e?this.xor(t):(t=Array.isArray(t)?t:[t],t.forEach(function(e){var t=e.id?e.id:e.predicate.hash;switch(t.substring(0,4)){case"edge":i._edges.has(t)?i.delEdge(e):i.addEdge(e);break;case"note":i._nodes.has(t)?i.delNode(e):i.addNode(e);break;case"grup":i._groups.has(t)?i.delGroup(e):i.addGroup(e);break;default:console.warn("Unkown element in selection.")}}))}},{key:"addNode",value:function(e){this._nodes.set(e.hash,e),e.class.includes("highlight")||(e.class+=" highlight")}},{key:"delNode",value:function(e){this._nodes.delete(e.hash),e.class=e.class.replace(" highlight","")}},{key:"addEdge",value:function(e){this._edges.set(e.predicate.hash,e),e.predicate.class.includes("highlight")||(e.predicate.class+=" highlight")}},{key:"delEdge",value:function(e){this._edges.delete(e.predicate.hash),e.predicate.class=e.predicate.class.replace(" highlight","")}},{key:"addGroup",value:function(e){this._groups.set(e.id,e),e.data.class.includes("highlight")||(e.data.class+=" highlight")}},{key:"delGroup",value:function(e){this._groups.delete(e.id),e.data.class=e.data.class.replace(" highlight","")}},{key:"clear",value:function(){this.clearEdges(),this.clearNodes(),this.clearGroups()}},{key:"clearNodes",value:function(){this.deselect([].concat(n()(this._nodes.values())))}},{key:"clearEdges",value:function(){this.deselect([].concat(n()(this._edges.values())))}},{key:"clearGroups",value:function(){this.deselect([].concat(n()(this._groups.values())))}},{key:"merge",value:function(e){var t=this;e._nodes.forEach(function(e){t.addNode(e)}),e._edges.forEach(function(e){t.addEdge(e)}),e._groups.forEach(function(e){t.addGroup(e)})}},{key:"minus",value:function(e){var t=this;e._nodes.forEach(function(e){t.delNode(e)}),e._edges.forEach(function(e){t.delEdge(e)}),e._groups.forEach(function(e){t.delGroup(e)})}},{key:"xor",value:function(e){var t=this;e._nodes.forEach(function(e,i){t._nodes.has(i)?t.delNode(e):t.addNode(e)}),e._edges.forEach(function(e,i){t._edges.has(i)?t.delEdge(e):t.addEdge(e)}),e._groups.forEach(function(e,i){t._groups.has(i)?t.delGroup(e):t.addGroup(e)})}},{key:"includes",value:function(e){return this._nodes.has(e)||this._edges.has(e)||this._groups.has(e)}},{key:"size",get:function(){return this._nodes.size+this._edges.size+this._groups.size},set:function(e){}},{key:"nodes",get:function(){return this._nodes},set:function(e){}},{key:"edges",get:function(){return this._edges},set:function(e){}},{key:"groups",get:function(){return this._groups},set:function(e){}}]),e}();t.a=h},238:function(e,t,i){"use strict";var o=i(94),n=i.n(o),a=i(109),s=i(127),r=i(369);i(312),i(313),t.a=function(e,t,o){e.pipe(i.i(s.c)(function(e){return"EDITNODE"===e.type||"EDITEDGE"===e.type||"EDITGROUP"===e.type}),i.i(s.e)(function(e){t&&t();var c=e.restart,d=function(){return e.restart(void 0,!0)},u=e.save,h=e.textElem,l=!0,p=void 0;if("EDITNODE"===e.type&&(p=e.d.shortname?e.d.shortname:"New"),"EDITEDGE"===e.type&&""===(p=e.d.predicate.text?e.d.predicate.text:"")){h.innerHTML="New";var g=h.parentElement.parentElement;g.setAttribute("x",g.getAttribute("x")-h.offsetWidth/2),g.setAttribute("y",g.getAttribute("y")-h.offsetHeight/2)}if("EDITGROUP"===e.type){p=e.d.data.text?e.d.data.text:"",""===p&&(h.innerHTML="New");var v=h.parentElement.parentElement;v.setAttribute("y",v.getAttribute("y")-h.offsetHeight)}h.style.pointerEvents="visiblePainted",h.classList.add("allowSelection");var f={buttonLabels:"fontawesome",disableDoubleReturn:!0,toolbar:{buttons:["bold","italic","underline","justifyLeft","justifyCenter"],diffTop:0},paste:{forcePlainText:!1,cleanPastedHTML:!1},placeholder:!1},m=new r(h,f);if(window.getSelection){var y=document.createRange();y.selectNodeContents(h),"New"!==h.innerHTML&&y.collapse(!1);var x=window.getSelection();x.removeAllRanges(),x.addRange(y)}else if(document.body.createTextRange){var b=document.body.createTextRange();b.moveToElementText(h),"New"!==h.innerHTML&&b.collapse(!1),b.select()}h.focus(),d();var w=i.i(a.g)(function(e){return m.subscribe("editableInput",e)},function(e){return m.unsubscribe("editableInput",e)}),E=i.i(a.b)(h,"paste").pipe(i.i(s.d)(function(e){e.preventDefault();var t=e.clipboardData.getData("text/html").replace(/[\n\r]+/g,"\n"),i=e.clipboardData.getData("text/plain");m.cleanPaste(t||i)})),C=i.i(a.h)(i.i(a.b)(document,"keyup").pipe(i.i(s.c)(function(e){return 27===e.keyCode}),i.i(s.d)(function(){h.innerHTML=p}))),S=i.i(a.h)(i.i(a.b)(document,"click").pipe(i.i(s.c)(function(e){return e.target!==h}),i.i(s.e)(function(e){return{e:e,descendants:n()(h.querySelectorAll("*"))}}),i.i(s.c)(function(e){var t=e.e;return!e.descendants.includes(t.target)}))),k=i.i(a.g)(function(e){return m.subscribe("blur",e)},function(e){return m.unsubscribe("blur",e)}),N=i.i(a.b)(window,"blur"),T=i.i(a.d)(C,S,N,k).pipe(i.i(s.d)(function(){window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),document.activeElement.blur(),h.classList.remove("allowSelection"),h.style.pointerEvents="none"}));return w.pipe(i.i(s.a)(T),i.i(s.h)(1)).subscribe(function(){l=!1}),i.i(a.d)(E,w).pipe(i.i(s.d)(d),i.i(s.a)(T),i.i(s.f)(function(){m.destroy(),"EDITEDGE"===e.type&&l&&(h.innerHTML=""),"EDITGROUP"===e.type&&(e.d.data.expandText=!1,l&&(h.innerHTML="")),h.innerHTML=h.innerHTML.trim(),h.innerHTML&&""!==h.innerHTML&&0!==h.innerHTML.length&&h.innerHTML!==p?u&&u(h.innerHTML.replace(/^<p>|<\/p>$/g,"")):(h.innerHTML=p,c()),o&&o()}))}),i.i(s.k)()).subscribe(function(){},console.error,function(){return console.log("FINISH")})}},239:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"app",function(){return d});var o=i(52),n=i.n(o),a=i(227),s=i(226),r=i.n(s),c=i(225);i.n(c);a.a.config.productionTip=!1,c.setLevel("info"),Object.defineProperty(a.a.prototype,"$log",{value:c});var d=new a.a(n()({el:"#app",template:"<App/>"},r.a))},312:function(e,t){},313:function(e,t){},314:function(e,t){},315:function(e,t){},316:function(e,t){},317:function(e,t){},318:function(e,t){},319:function(e,t){},320:function(e,t){},325:function(e,t,i){e.exports=i.p+"static/img/fa5-icons.a330f3d.svg"},504:function(e,t,i){function o(e){i(318)}var n=i(51)(i(231),i(513),o,"data-v-454f2cdb",null);e.exports=n.exports},505:function(e,t,i){function o(e){i(316)}var n=i(51)(i(232),i(511),o,"data-v-2cffc2a0",null);e.exports=n.exports},506:function(e,t,i){function o(e){i(315)}var n=i(51)(i(233),i(510),o,"data-v-240dfc73",null);e.exports=n.exports},507:function(e,t,i){function o(e){i(317)}var n=i(51)(i(234),i(512),o,"data-v-427e01de",null);e.exports=n.exports},508:function(e,t,i){function o(e){i(314)}var n=i(51)(i(235),i(509),o,null,null);e.exports=n.exports},509:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"graph-viz"}},[e._m(0),e._v(" "),i("hover-menu-node",{attrs:{position:e.hoverPos,pad:10,color:e.hoverColor,display:e.hoverDisplay,fixed:e.hoverFixed,shape:e.hoverShape,data:e.hoverData,type:e.hoverType},on:{exitHover:function(t){e.closeHoverMenu(t)},clickedButton:function(t){e.hoverInteract(t)}}}),e._v(" "),i("hover-menu-edge",{attrs:{position:e.hoverEdgePos,pad:10,color:e.hoverEdgeColor,display:e.hoverEdgeDisplay,data:e.hoverEdgeData,type:e.hoverEdgeType},on:{exitHover:function(t){e.closeEdgeHoverMenu(t)},clickedButton:function(t){e.hoverEdgeInteract(t)}}}),e._v(" "),i("toolBar",{attrs:{shape:e.defaultShape,mouse:e.mouseState},on:{clickedAction:function(t){e.changeMouseState(t)},changeDefaultShape:function(t){e.changeDefaultShape(t)},mouseEnter:function(t){e.closeHoverMenu()}}}),e._v(" "),i("color-picker",{directives:[{name:"show",rawName:"v-show",value:e.ifColorPickerOpen,expression:"ifColorPickerOpen"}],ref:"vueColorPicker",style:e.styleObject,attrs:{value:e.colors,palette:e.palette},on:{input:e.updateFromPicker}}),e._v(" "),i("div",{attrs:{id:"graph"},on:{dblclick:e.dblClickOnPage}})],1)},staticRenderFns:[function(){var e=this,t=e.$createElement;return(e._self._c||t)("link",{attrs:{rel:"stylesheet",href:"./static/fonts/font-awesome/css/font-awesome.css"}})}]}},510:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"modal"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.display,expression:"display"}],staticClass:"modal-mask",attrs:{id:"graph-save-menu"}},[i("div",{staticClass:"modal-wrapper"},[i("div",{staticClass:"modal-container"},[i("h3",[e._v("Save Graph")]),e._v(" "),i("div",[i("img",{ref:"png",staticStyle:{"max-width":"100%"},attrs:{src:"",alt:"preview"}})]),e._v(" "),i("div",{staticClass:"filename-wrapper"},[i("p",{staticStyle:{margin:"0"}},[e._v("Filename:")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.filename,expression:"filename",modifiers:{trim:!0}}],attrs:{placeholder:"filename"},domProps:{value:e.filename},on:{input:function(t){t.target.composing||(e.filename=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),i("div",{staticClass:"button-wrapper"},[i("button",{staticClass:"save-button",on:{click:e.saveSVG}},[e._v("Save SVG")]),e._v(" "),i("button",{ref:"savePNG",staticClass:"save-button",attrs:{disabled:!0}},[e._v("Export Image")]),e._v(" "),i("button",{staticClass:"exit-button",on:{click:e.exit}},[e._v("Cancel")])])])])])])},staticRenderFns:[]}},511:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.display,expression:"display"}],ref:"parent",style:{top:e.posPad.y+e.posPad.height/2+"px",left:e.posPad.x+e.posPad.width/2+"px"},attrs:{id:"graph-hover-menu"}},[i("div",{staticClass:"icon-position h-center-align hand",staticStyle:{width:"60px"},style:{top:e.posPad.height/2+"px"}},[i("div",{staticClass:"icon-wrapper menu-color hand"},[i("i",{staticClass:"fa fa-paint-brush",style:{color:e.color},attrs:{id:"bgpicker"},on:{click:function(t){e.interact("COLOR",t)}}})]),e._v(" "),i("div",{staticClass:"icon-wrapper hand"},[i("i",{staticClass:"fa fa-trash-o custom-icon",on:{click:function(t){e.interact("DELETE",t)}}})])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"note"===e.type,expression:"type==='note'"}],staticClass:"icon-position v-center-align hand",style:{left:e.posPad.width/2+"px"}},[i("div",{staticClass:"icon-wrapper"},[i("i",{staticClass:"fa fa-arrow-right custom-icon",on:{mousedown:function(t){e.interact("CREATEEDGE",t)}}})]),e._v(" "),i("div",{staticClass:"icon-wrapper"},[i("i",{staticClass:"fa fa-thumb-tack",class:e.pinned,on:{click:function(t){e.interact("PIN",t)}}})])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"note"===e.type,expression:"type==='note'"}],staticClass:"icon-position",style:{left:e.position.width/2-5+"px",top:e.position.height/2-10+"px"}},[i("svg",{attrs:{width:"8",height:"8"}},[i("rect",{staticStyle:{cursor:"ew-resize"},attrs:{x:"0",y:"0",width:"8",height:"8",fill:"white",stroke:"black","stroke-width":"2"},on:{mousedown:function(t){e.interact("NODERESIZE",t)}}})])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"note"===e.type,expression:"type==='note'"}],staticClass:"icon-position v-center-align hand",style:{right:e.posPad.width/2+"px"}},[i("div",{staticClass:"icon-wrapper"},[i("svg",{staticClass:"custom-icon",staticStyle:{width:"22px",height:"22px"},attrs:{viewBox:"0 0 539 512"},on:{mousedown:function(t){e.interact("GROUPDRAG",t)}}},[i("path",{attrs:{fill:"#575959",d:"M443,448h-84c-6.6,0-12-5.4-12-12v-40c0-6.6,5.4-12,12-12h84c17.7,0,32-14.3,32-32V160c0-17.7-14.3-32-32-32h-84\n    c-6.6,0-12-5.4-12-12V76c0-6.6,5.4-12,12-12h84c53,0,96,43,96,96v192C539,405,496,448,443,448z M454.5,250.3l-133.6-135\n    c-11.9-12.1-32.6-3.6-32.6,13.7v77.1H180.1c-10.6,0-19.1,8.6-19.1,19.3v77.1c0,10.7,8.5,19.3,19.1,19.3h108.1V399\n    c0,17.3,20.7,25.7,32.6,13.7l133.6-135C461.8,270.1,461.8,257.9,454.5,250.3z"}}),e._v(" "),i("path",{attrs:{fill:"#575959",d:"M8.5,250l133.6-133.6c12-11.9,32.6-3.5,32.6,13.5v76.3h108.2c10.6,0,19.1,8.5,19.1,19.1v76.3c0,10.6-8.5,19.1-19.1,19.1\n    H174.8v76.3c0,17.1-20.7,25.4-32.6,13.5L8.5,277C1.2,269.6,1.2,257.5,8.5,250z"}})])]),e._v(" "),i("div",{staticClass:"icon-wrapper"},[i("svg",{staticClass:"custom-icon",staticStyle:{padding:"3px",width:"22px",height:"22px"},attrs:{viewBox:"0 0 512 512"},on:{mouseenter:e.timerStart,mouseleave:e.timerCancel}},[i("path",{attrs:{fill:"#575959",d:"M512 320v160c0 17.67-14.33 32-32 32H320c-17.67 0-32-14.33-32-32V320c0-17.67 14.33-32 32-32h160c17.67 0 32 14.33 32 32zm-384-64C57.31 256 0 313.31 0 384s57.31 128 128 128 128-57.31 128-128-57.31-128-128-128zm351.03-32c25.34 0 41.18-26.67 28.51-48L412.51 16c-12.67-21.33-44.35-21.33-57.02 0l-95.03 160c-12.67 21.33 3.17 48 28.51 48h190.06z"}})])])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.shapesToggle,expression:"shapesToggle"}],staticClass:"icon-position v-center-align",style:{right:e.posPad.width/2+28+"px"}},[i("svg",{attrs:{width:"26",height:"23"}},[i("rect",{staticClass:"shape-icon",attrs:{x:"1",y:"1",width:"24",height:"21"},on:{mousedown:function(t){e.interact("SHAPE",t,"rect")}}})]),e._v(" "),i("svg",{attrs:{width:"26",height:"23"}},[i("rect",{staticClass:"shape-icon",attrs:{rx:"6",ry:"6",x:"1",y:"1",width:"24",height:"21"},on:{mousedown:function(t){e.interact("SHAPE",t,"capsule")}}})]),e._v(" "),i("svg",{attrs:{width:"26",height:"26"}},[i("circle",{staticClass:"shape-icon",attrs:{cx:"13",cy:"13",r:"12"},on:{mousedown:function(t){e.interact("SHAPE",t,"circle")}}})])])])},staticRenderFns:[]}},512:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("transition",{attrs:{name:"slide-fade"}},[i("ul",{directives:[{name:"show",rawName:"v-show",value:e.tools[e.tools.reduce(function(e,t,i){return"SELECT"===t.action?i:e},-1)].toggled,expression:"tools[tools.reduce((acc,curr, i) => (curr.action === 'SELECT'? i: acc), -1)].toggled"}],staticClass:"graph-unorderedList",attrs:{id:"graph-select-tool"},on:{mouseenter:function(t){e.mouseEnter()}}},e._l(e.selectTools,function(t){return i("li",{key:t.action,class:{active:t.toggled},on:{click:function(i){e.clicked(t.action)}}},[1===t.icon.length?i("span",{staticClass:"icon-alone tooltip"},[i("i",{class:"fa fa-"+t.icon[0]+" fa-lg"}),e._v(" "),i("span",{staticClass:"screen-reader-text"},[e._v(e._s(t.action))]),e._v(" "),i("span",{staticClass:"tooltiptext"},[e._v(e._s(t.tip))])]):i("span",{staticClass:"fa-stack fa-sm tooltip"},[i("i",{class:t.icon[0]}),e._v(" "),i("i",{class:t.icon[1]}),e._v(" "),i("span",{staticClass:"screen-reader-text"},[e._v(e._s(t.action))]),e._v(" "),i("span",{staticClass:"tooltiptext"},[e._v(e._s(t.tip))])])])}))]),e._v(" "),i("transition",{attrs:{name:"slide-fade-right"}},[i("ul",{staticClass:"graph-unorderedList",style:{visibility:e.shapeToolVisibility},attrs:{id:"graph-shape-tool"},on:{mouseenter:function(t){e.mouseEnter()}}},e._l(e.shapes,function(t){return i("li",{key:t.shape,class:{active:e.shape===t.shape},on:{click:function(i){e.changeDefaultShape(t.shape)}}},[i("span",{staticClass:"icon-alone tooltip"},[i("svg",{staticClass:"icon-alone",attrs:{width:"16px",height:"18px"}},[i("use",{staticStyle:{transform:"scale(0.03571)"},attrs:{"xlink:href":t.icon}})]),e._v(" "),i("span",{staticClass:"screen-reader-text"},[e._v(e._s(t.shape))])])])}))]),e._v(" "),i("ul",{staticClass:"graph-unorderedList",attrs:{id:"graph-main-tool"},on:{mouseenter:function(t){e.mouseEnter()}}},e._l(e.tools,function(t){return i("li",{key:t.action,class:{active:t.toggled},on:{click:function(i){e.clicked(t.action)}}},[t.custom?i("span",{staticClass:"icon-alone tooltip",domProps:{innerHTML:e._s(t.html)}},[i("span",{staticClass:"screen-reader-text"},[e._v(e._s(t.action))]),e._v(" "),i("span",{staticClass:"tooltiptext"},[e._v(e._s(t.tip))])]):1===t.icon.length?i("span",{staticClass:"icon-alone tooltip"},[i("i",{class:"fa fa-"+t.icon[0]+" fa-lg"}),e._v(" "),i("span",{staticClass:"screen-reader-text"},[e._v(e._s(t.action))]),e._v(" "),i("span",{staticClass:"tooltiptext"},[e._v(e._s(t.tip))])]):i("span",{staticClass:"fa-stack fa-sm tooltip"},[i("i",{class:t.icon[0]}),e._v(" "),i("i",{class:t.icon[1]}),e._v(" "),i("span",{staticClass:"screen-reader-text"},[e._v(e._s(t.action))]),e._v(" "),i("span",{staticClass:"tooltiptext"},[e._v(e._s(t.tip))])])])}))],1)},staticRenderFns:[]}},513:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.display,expression:"display"}],ref:"parent",style:{top:e.posPad.y+e.posPad.height/2-20+"px",left:e.posPad.x+e.posPad.width/2-20+"px"},attrs:{id:"edge-hover-menu"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:"edge"===e.type&&!e.arrowsToggle,expression:"type==='edge' && !arrowsToggle"}],staticClass:"icon-wrapper icon-position h-center-align hand",style:{bottom:e.posPad.height/2-15+"px"}},[i("i",{staticClass:"fa fa-arrows-alt custom-icon",on:{mouseenter:e.arrowsTimerStart,mouseleave:e.arrowsTimerCancel}})]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.arrowsToggle,expression:"arrowsToggle"}],staticClass:"icon-wrapper icon-position h-center-align hand",style:{bottom:e.posPad.height/2-10+"px",left:e.posPad.width/2-64+"px"}},[i("i",{staticClass:"fa fa-arrows-h custom-icon",on:{click:function(t){e.interact("ARROW",t,"B")}}})]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.arrowsToggle,expression:"arrowsToggle"}],staticClass:"icon-wrapper icon-position h-center-align hand",style:{bottom:e.posPad.height/2-10+"px",left:e.posPad.width/2-40+"px"}},[i("i",{staticClass:"fa fa-long-arrow-left custom-icon",on:{click:function(t){e.interact("ARROW",t,"L")}}})]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.arrowsToggle,expression:"arrowsToggle"}],staticClass:"icon-wrapper icon-position h-center-align hand",style:{bottom:e.posPad.height/2-10+"px",left:e.posPad.width/2-16+"px"}},[i("i",{staticClass:"fa fa-long-arrow-right custom-icon",on:{click:function(t){e.interact("ARROW",t,"R")}}})]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.arrowsToggle,expression:"arrowsToggle"}],staticClass:"icon-wrapper icon-position h-center-align hand",style:{bottom:e.posPad.height/2-10+"px",left:e.posPad.width/2+8+"px"}},[i("i",{staticClass:"fa fa-minus custom-icon",on:{click:function(t){e.interact("ARROW",t,"N")}}})]),e._v(" "),i("div",{staticClass:"icon-position h-center-align menu-color hand",style:{top:e.posPad.height/2-10+"px",left:e.posPad.width/2-48+"px"}},[i("i",{staticClass:"fa fa-paint-brush",style:{color:e.color},attrs:{id:"bgpicker"},on:{click:function(t){e.interact("COLOR",t)}}})]),e._v(" "),i("div",{staticClass:"icon-wrapper icon-position h-center-align hand",style:{top:e.posPad.height/2-12+"px",left:e.posPad.width/2-16+"px"}},[i("i",{staticClass:"fa fa-trash-o custom-icon",on:{click:function(t){e.interact("DELETE",t)}}})]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"edge"===e.type&&!e.weightsToggle,expression:"type==='edge' && !weightsToggle"}],staticClass:"icon-position v-center-align hand",style:{top:e.posPad.height/2-30+"px",left:e.posPad.width/2-10+"px"}},[i("div",{staticClass:"icon-wrapper"},[i("svg",{staticClass:"custom-icon",staticStyle:{padding:"3px",width:"22px",height:"22px"},on:{mouseenter:e.weightsTimerStart,mouseleave:e.weightsTimerCancel}},[i("line",{staticClass:"weight-icon",attrs:{x1:"0",y1:"2.5",x2:"15",y2:"2.5","stroke-width":"2"}}),e._v(" "),i("line",{staticClass:"weight-icon",attrs:{x1:"0",y1:"6",x2:"15",y2:"6","stroke-width":"3"}}),e._v(" "),i("line",{staticClass:"weight-icon",attrs:{x1:"0",y1:"10.5",x2:"15",y2:"10.5","stroke-width":"4"}})])])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.weightsToggle,expression:"weightsToggle"}],staticClass:"icon-position v-center-align",style:{top:e.posPad.height/2-55+"px",left:e.posPad.width/2+"px"}},[i("div",{staticClass:"icon-wrapper"},[i("svg",{staticClass:"custom-icon",staticStyle:{padding:"3px",width:"22px",height:"22px"},on:{mousedown:function(t){e.interact("WEIGHT",t,2)}}},[i("line",{staticClass:"weight-icon",attrs:{x1:"0",y1:"7",x2:"14",y2:"7","stroke-width":"2"}})])])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.weightsToggle,expression:"weightsToggle"}],staticClass:"icon-position v-center-align",style:{top:e.posPad.height/2-30+"px",left:e.posPad.width/2+"px"}},[i("div",{staticClass:"icon-wrapper"},[i("svg",{staticClass:"custom-icon",staticStyle:{padding:"3px",width:"22px",height:"22px"},on:{mousedown:function(t){e.interact("WEIGHT",t,4)}}},[i("line",{staticClass:"weight-icon",attrs:{x1:"0",y1:"7",x2:"14",y2:"7","stroke-width":"4"}})])])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.weightsToggle,expression:"weightsToggle"}],staticClass:"icon-position v-center-align",style:{top:e.posPad.height/2-5+"px",left:e.posPad.width/2+"px"}},[i("div",{staticClass:"icon-wrapper"},[i("svg",{staticClass:"custom-icon",staticStyle:{padding:"3px",width:"22px",height:"22px"},on:{mousedown:function(t){e.interact("WEIGHT",t,6)}}},[i("line",{staticClass:"weight-icon",attrs:{x1:"0",y1:"7",x2:"14",y2:"7","stroke-width":"6"}})])])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"edge"===e.type&&!e.dashesToggle,expression:"type==='edge' && !dashesToggle"}],staticClass:"icon-position v-center-align hand",style:{top:e.posPad.height/2-30+"px",right:e.posPad.width/2-10+"px"}},[i("div",{staticClass:"icon-wrapper"},[i("svg",{staticClass:"custom-icon",staticStyle:{padding:"3px",width:"22px",height:"22px"},on:{mouseenter:e.dashesTimerStart,mouseleave:e.dashesTimerCancel}},[i("line",{staticClass:"dash-icon",attrs:{x1:"-0.5",y1:"4.5",x2:"14.5",y2:"4.5","stroke-dasharray":"0"}}),e._v(" "),i("line",{staticClass:"dash-icon",attrs:{x1:"-0.5",y1:"10.5",x2:"14.5",y2:"10.5","stroke-dasharray":"3"}})])])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.dashesToggle,expression:"dashesToggle"}],staticClass:"icon-position v-center-align",style:{top:e.posPad.height/2-42+"px",right:e.posPad.width/2+"px"}},[i("div",{staticClass:"icon-wrapper"},[i("svg",{staticClass:"custom-icon",staticStyle:{padding:"3px",width:"22px",height:"22px"},on:{mousedown:function(t){e.interact("DASH",t,0)}}},[i("line",{staticClass:"dash-icon",attrs:{x1:"-1",y1:"7",x2:"14",y2:"7","stroke-dasharray":"0"}})])])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.dashesToggle,expression:"dashesToggle"}],staticClass:"icon-position v-center-align",style:{top:e.posPad.height/2-17+"px",right:e.posPad.width/2+"px"}},[i("div",{staticClass:"icon-wrapper"},[i("svg",{staticClass:"custom-icon",staticStyle:{padding:"3px",width:"22px",height:"22px"},on:{mousedown:function(t){e.interact("DASH",t,3)}}},[i("line",{staticClass:"dash-icon",attrs:{x1:"-1",y1:"7",x2:"14",y2:"7","stroke-dasharray":"3"}})])])])])},staticRenderFns:[]}},514:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("graphViz",{staticClass:"b-arg-map",attrs:{id:"xb-arg-map",hypothesisId:e.chunkId,nodes:e.nodes,textNodes:e.textNodes,savedDiagram:e.savedDiagram,width:e.width,height:e.height},on:{save:e.save}}),e._v(" "),i("save-modal",{attrs:{display:e.saveDisplay,svgData:e.svgData,graphData:e.graphData},on:{close:e.closeSave}})],1)},staticRenderFns:[]}},523:function(e,t){},524:function(e,t){},525:function(e,t){},526:function(e,t){},527:function(e,t){},528:function(e,t){},529:function(e,t){},530:function(e,t){},531:function(e,t){}},[239]);